<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simülasyon: Şirketteki Yabancı (Sosyal Mühendislik)</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        :root {
            --dark-bg: #1a1a2e; --container-bg: #2a2a4a; --section-bg: #333355;
            --interactive-bg: #444466; --accent-blue: #8be9fd; --accent-purple: #bd93f9;
            --accent-pink: #ff79c6; --accent-green: #50fa7b; --accent-yellow: #f1fa8c;
            --accent-red: #ff5555; --text-light: #e0e0e0; --text-dark: #282a36;
            --shadow-light: rgba(0, 0, 0, 0.2); --shadow-dark: rgba(0, 0, 0, 0.5);
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        body {
            font-family: 'Roboto', sans-serif; background-color: var(--dark-bg); color: var(--text-light);
            margin: 0; padding: 20px; display: flex; justify-content: center; align-items: flex-start;
            min-height: 100vh; line-height: 1.7;
        }
        .container {
            background-color: var(--container-bg); border-radius: 12px; box-shadow: 0 10px 30px var(--shadow-dark);
            padding: 20px; max-width: 950px; width: 100%; margin: 40px 0; animation: fadeIn 0.8s ease-out;
        }
        @media (min-width: 768px) { .container { padding: 40px; } }
        .centered-page { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; min-height: 60vh; }
        h1 { font-size: 2.4em; color: var(--accent-blue); margin-bottom: 25px; text-shadow: 2px 2px 5px var(--shadow-dark); }
        h2 { font-size: 1.9em; color: var(--accent-blue); border-bottom: 2px solid var(--interactive-bg); padding-bottom: 15px; margin-bottom: 30px; text-align: left; }
        h3 { font-size: 1.5em; color: var(--accent-purple); margin-top: 25px; margin-bottom: 15px; text-align: left; }
        p { font-size: 1.1em; margin-bottom: 15px; }
        .section { padding: 30px; background-color: var(--section-bg); border-radius: 8px; margin-top: 25px; animation: fadeIn 0.7s ease-out; }
        .interactive-element { background-color: var(--interactive-bg); border-radius: 8px; padding: 25px; margin-top: 30px; box-shadow: 0 5px 15px var(--shadow-light); }
        .decision-buttons { display: flex; flex-direction: column; gap: 15px; margin-top: 25px; }
        .btn {
            background-color: #6272a4; color: white; border: none; padding: 15px 25px; border-radius: 8px; cursor: pointer;
            font-size: 1.1em; transition: all 0.3s ease; text-align: left; display: flex; align-items: center;
            gap: 15px; font-weight: 700; box-shadow: 0 2px 8px var(--shadow-light);
        }
        .btn:hover { background-color: #7a8ab9; transform: translateY(-3px); box-shadow: 0 6px 15px var(--shadow-dark); }
        .btn:disabled { background-color: #555 !important; color: #999 !important; cursor: not-allowed; transform: none; box-shadow: none; opacity: 0.7; }
        .btn .btn-text { flex-grow: 1; }
        .btn small { display: block; font-size: 0.85em; opacity: 0.8; margin-top: 5px; font-weight: 400; color: var(--accent-blue); }
        .btn-start, .btn-continue, .btn-restart {
            font-size: 1.3em; font-weight: bold; text-align: center; background-color: var(--accent-green);
            color: var(--text-dark); justify-content: center; margin-top: 40px; padding: 18px 30px;
        }
        #intermissionSection .metric-change-summary-container { background-color: var(--section-bg); border-radius: 8px; padding: 25px; width: 100%; max-width: 600px; }
        #intermissionSection .metric-change-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        #intermissionSection .metric-change { font-size: 1.1em; display: flex; align-items: center; gap: 8px; padding: 8px 15px; border-radius: 5px; background-color: var(--interactive-bg); box-shadow: inset 0 1px 5px rgba(0,0,0,0.2); justify-content: center; }
        .metric-change .positive { color: var(--accent-green); } .metric-change .negative { color: var(--accent-red); } .metric-change .neutral { color: var(--accent-blue); }
        .intro-metrics-container { background-color: var(--section-bg); border-radius: 10px; padding: 25px; box-shadow: 0 5px 15px var(--shadow-light); border: 1px solid var(--interactive-bg); margin-top:30px; width:100%; max-width:600px; }
        .intro-metrics-container h3 { margin-top: 0; padding-bottom: 10px; border-bottom: 1px solid var(--interactive-bg); color: var(--accent-purple); text-align: center; }
        .intro-metrics-container ul { list-style: none; padding: 0; margin: 0; }
        .intro-metrics-container li { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; padding: 10px 0; border-bottom: 1px dashed var(--interactive-bg); }
        .intro-metrics-container li:last-child { border-bottom: none; margin-bottom: 0; }
        .intro-metrics-container li .icon { font-size: 1.8em; color: var(--accent-blue); flex-shrink: 0; width: 35px; text-align: center; }
        .intro-metrics-container li > div { text-align: left; }
        .intro-metrics-container li small { display: block; font-size: 0.9em; color: var(--text-light); opacity: 0.8; margin-top: 3px; }
        #statusBar { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px; background-color: var(--text-dark); padding: 15px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #6272a4; box-shadow: 0 4px 12px var(--shadow-dark); }
        #statusBar .metric { text-align: center; font-size: 0.9em; flex: 1; min-width: 100px; }
        #statusBar .metric .value { font-size: 1.3em; font-weight: bold; color: var(--accent-yellow); margin-top: 5px; }
        .scenario-image { width: 100%; max-width: 700px; margin: 25px auto; display: block; border-radius: 8px; border: 1px solid var(--interactive-bg); box-shadow: 0 4px 15px var(--shadow-dark); }
        .final-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-top: 30px; width: 100%; max-width: 850px; }
        .metric-card { background-color: var(--section-bg); padding: 25px; border-radius: 8px; text-align: center; border: 1px solid var(--interactive-bg); }
        .metric-card .icon { font-size: 2.8em; color: var(--accent-blue); margin-bottom: 12px; }
        .metric-card .label { font-size: 1.1em; margin-bottom: 8px; color: var(--text-light); }
        .metric-card .value { font-size: 2em; font-weight: bold; color: var(--accent-yellow); }
        .post-crisis-layout { display: grid; grid-template-columns: 1fr; gap: 30px; text-align: left; margin-top: 40px; width: 100%; }
        @media (min-width: 800px) { .post-crisis-layout { grid-template-columns: 1fr 1fr; } }
        .event-timeline, .strategic-debrief { background-color: var(--interactive-bg); padding: 25px; border-radius: 8px; margin-top: 20px; }
        .event-timeline h3, .strategic-debrief h3 { margin-top: 0; padding-bottom: 10px; border-bbottom: 1px solid var(--section-bg); color: var(--accent-blue); display: flex; align-items: center; gap: 10px; }
        .event-timeline ul { list-style-type: none; padding-left: 0; margin: 15px 0 0; }
        .event-timeline li { position: relative; padding: 5px 0 15px 35px; border-left: 2px solid var(--section-bg); }
        .event-timeline li:last-child { border-left: none; }
        .event-timeline li::before { content: '\f05a'; font-family: 'Font Awesome 6 Free'; font-weight: 900; color: var(--accent-blue); position: absolute; left: -12px; top: 5px; background-color: var(--dark-bg); width: 22px; height: 22px; border-radius: 50%; text-align: center; line-height: 22px; font-size: 0.8em; }
        .event-timeline li.positive::before { content: '\f00c'; color: var(--accent-green); }
        .event-timeline li.negative::before { content: '\f00d'; color: var(--accent-red); }
        .event-timeline li.neutral::before { content: '\f071'; color: var(--accent-yellow); }
        .event-timeline li .decision-title { font-weight: bold; color: var(--accent-purple); display: block; margin-bottom: 4px; }
        #score-breakdown { list-style: none; padding: 0; margin-top: 15px; text-align: left; }
        #score-breakdown li { padding: 8px 12px; border-radius: 6px; margin-bottom: 8px; font-size: 1.05em; display: flex; justify-content: space-between; }
        #score-breakdown .score-plus { background-color: rgba(80, 250, 123, 0.1); border-left: 3px solid var(--accent-green); }
        #score-breakdown .score-minus { background-color: rgba(255, 85, 85, 0.1); border-left: 3px solid var(--accent-red); }
        #score-breakdown .score-neutral { background-color: rgba(139, 233, 253, 0.1); border-left: 3px solid var(--accent-blue); }
        #score-breakdown .score-value { font-weight: bold; }
        #performance-badge { padding: 15px 35px; font-size: 2em; font-weight: bold; border-radius: 50px; display: inline-block; color: var(--text-dark); box-shadow: 0 5px 20px var(--shadow-dark); margin: 25px 0; }
    </style>
</head>
<body>
    <div class="container">
        
        <div id="introSection" class="centered-page">
            <h1><i class="fa-solid fa-user-secret"></i> Sosyal Mühendislik Simülasyonu</h1>
            <p style="max-width: 700px;">Bu simülasyonda, ofis ortamında karşılaşabileceğiniz, güveninizi ve iyi niyetinizi suistimal etmeyi amaçlayan çok katmanlı bir sosyal mühendislik saldırısını deneyimleyeceksiniz. Vereceğiniz kararlar, sadece dijital değil, aynı zamanda fiziksel güvenliği de doğrudan etkileyecek.</p>
            <img src="bir.png" alt="Sosyal Mühendislik temalı görsel" class="scenario-image">
            <div class="intro-metrics-container">
                <h3><i class="fa-solid fa-chart-line"></i> Temel Metrikler</h3>
                <ul>
                    <li><span class="icon" style="color: var(--accent-green);"><i class="fa-solid fa-building-shield"></i></span><div><strong>Fiziksel Güvenlik</strong><small>Şirket tesislerinin ve alanlarının güvenliği.</small></div></li>
                    <li><span class="icon" style="color: var(--accent-red);"><i class="fa-solid fa-file-invoice"></i></span><div><strong>Bilgi Güvenliği</strong><small>Hassas verilerin (şifre, proje vb.) gizliliği.</small></div></li>
                    <li><span class="icon" style="color: var(--accent-yellow);"><i class="fa-solid fa-user-check"></i></span><div><strong>Prosedür Uyumu</strong><small>Şirket güvenlik politikalarına uyma düzeyiniz.</small></div></li>
                    <li><span class="icon" style="color: var(--accent-blue);"><i class="fa-solid fa-users"></i></span><div><strong>Kurumsal Farkındalık</strong><small>Genel güvenlik kültürüne olan katkınız.</small></div></li>
                </ul>
            </div>
            <button class="btn btn-start" id="startButton"><i class="fa-solid fa-play"></i> Simülasyonu Başlat</button>
        </div>

        <div id="gameContainer" style="display: none;">
            <div id="statusBar">
                <div class="metric"><span><i class="fa-solid fa-building-shield"></i> Fiziksel Güvenlik</span><div class="value" id="status-physical">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-file-invoice"></i> Bilgi Güvenliği</span><div class="value" id="status-information">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-user-check"></i> Prosedür Uyumu</span><div class="value" id="status-compliance">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-users"></i> Kurumsal Farkındalık</span><div class="value" id="status-awareness">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-stopwatch"></i> Kalan Süre</span><div class="value" id="status-timer">12:00</div></div>
            </div>
            <div id="game-content"></div>
        </div>

        <div id="intermissionSection" class="centered-page" style="display: none;">
            <h2 id="intermissionTitle"></h2>
            <div id="intermissionDetails"></div>
            <button class="btn btn-continue" id="continueButton"><i class="fa-solid fa-forward"></i> Sonraki Aşamaya Geç</button>
        </div>
        
        <div id="finalSection" class="section centered-page" style="display: none; flex-direction:column; align-items:center;">
            <h2><i class="fa-solid fa-award"></i> Simülasyon Tamamlandı: Değerlendirme Raporu</h2>
            <p>Simülasyonu başarıyla tamamladınız. Sosyal mühendislik saldırılarına karşı verdiğiniz kararların analizi aşağıdadır.</p>
            <div id="performance-badge-container"><span id="performance-badge"></span></div>
            <div class="final-metrics" id="finalMetricsContainer"></div>
            <div class="post-crisis-layout">
                <div class="event-timeline">
                    <h3><i class="fa-solid fa-timeline"></i> Karar Zaman Tüneli</h3>
                    <ul id="decision-timeline-list"></ul>
                </div>
                <div class="strategic-debrief">
                    <h3><i class="fa-solid fa-lightbulb"></i> Çıkarılan Dersler</h3>
                    <div id="strategic-debrief-content"></div>
                    <h3 style="margin-top: 20px;"><i class="fa-solid fa-calculator"></i> Puan Dökümü</h3>
                    <ul id="score-breakdown"></ul>
                </div>
            </div>
            <button class="btn btn-restart" onclick="location.reload()"><i class="fa-solid fa-arrow-rotate-right"></i> Simülasyonu Yeniden Başlat</button>
        </div>

        <div id="html-content-templates" style="display: none;">
            <div id="stage1">
                <h2><i class="fa-solid fa-door-closed"></i> Aşama 1: "Yardımseverlik" Tuzağı (Tailgating)</h2>
                <p>Sabah işe geldiniz ve personel kartınızla turnikeden geçmek üzeresiniz. Tam o sırada, elinde kahve ve laptop çantasıyla dolu olan, iyi giyimli ve telaşlı bir yabancı arkanızdan sesleniyor: "Çok affedersiniz, yeni başladım da kartımı masamda unutmuşum. Beni de geçirmeniz mümkün mü?"</p>
                <img src="iki.png" alt="Turnikede yardım isteyen yabancı" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu durumda ne yaparsınız?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s1a"><i class="fa-solid fa-door-open"></i><div class="btn-text">Seçenek A: Kibarlık gösterip kapıyı/turnikeyi onun için açık tutarım.<small>Yardımcı olmak insani bir davranış, zor durumda kalmış olabilir.</small></div></button>
                        <button class="btn" data-decision="s1b"><i class="fa-solid fa-person-walking-arrow-right"></i><div class="btn-text">Seçenek B: Onu görmezden gelir, hızla içeri girerim.<small>Benim sorunum değil, bir şekilde halleder.</small></div></button>
                        <button class="btn" data-decision="s1c"><i class="fa-solid fa-id-card"></i><div class="btn-text">Seçenek C: Kibarca reddeder ve resepsiyona veya güvenliğe yönlendiririm.<small>"Üzgünüm, şirket politikası gereği bunu yapamam ama güvenlik size yardımcı olacaktır."</small></div></button>
                    </div>
                </div>
            </div>
            
            <div id="stage2">
                <h2><i class="fa-solid fa-ear-listen"></i> Aşama 2: Meraklı Kulaklar (Eavesdropping)</h2>
                <p>Biraz sonra, mola alanında kahve alırken aynı yabancıyı, bir grup mühendisin yeni bir projenin teknik detaylarını tartıştığı beyaz tahtanın yakınında telefonla konuşurken görüyorsunuz. Yabancı, telefonda konuşuyor gibi görünse de, gözlerinin ve vücudunun mühendislerin olduğu yöne dönük olması ve konuşulanları dikkatle dinliyor gibi görünmesi şüphenizi çekiyor.</p>
                <img src="üc.png" alt="Mola alanında gizlice dinleyen yabancı" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu şüpheli durumu fark ettiğinizde ne yaparsınız?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s2a"><i class="fa-solid fa-users-viewfinder"></i><div class="btn-text">Seçenek A: Görmezden gelir, kahvemi alıp masama dönerim.<small>İnsanları dikizlemek doğru değil, belki de sadece dalgındır.</small></div></button>
                        <button class="btn" data-decision="s2b"><i class="fa-solid fa-volume-high"></i><div class="btn-text">Seçenek B: Mühendislerin yanına gidip daha yüksek sesle başka bir konudan konuşarak dikkatlerini dağıtmaya çalışırım.<small>Onları dolaylı yoldan uyarmış olurum.</small></div></button>
                        <button class="btn" data-decision="s2c"><i class="fa-solid fa-shield-halved"></i><div class="btn-text">Seçenek C: Durumu, tartışmayı yürüten proje yöneticisine veya doğrudan güvenliğe gizlice bildiririm.<small>Hassas bilgilerin sızma riski var, profesyonel bir müdahale gerekir.</small></div></button>
                    </div>
                </div>
            </div>

            <div id="stage3">
                <h2><i class="fa-solid fa-wifi"></i> Aşama 3: Wi-Fi Şifresi Talebi</h2>
                <p>Yabancı, masanıza kadar gelip gülümseyerek, "Merhaba, ben pazarlama departmanından Can. Henüz sistem erişimlerim tamamlanmadı ama acil bir sunum indirmem gerekiyor. Şirketin 'KURUMSAL-WIFI' ağının şifresini alabilir miyim acaba?" diye soruyor.</p>
                <img src="dört.png" alt="Wi-Fi şifresi isteyen yabancı" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu talebe nasıl yanıt verirsiniz?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s3a"><i class="fa-solid fa-key"></i><div class="btn-text">Seçenek A: Yardımcı olmak adına 'KURUMSAL-WIFI' şifresini veririm.<small>Sonuçta şirket çalışanı ve acil bir durumu var.</small></div></button>
                        <button class="btn" data-decision="s3b"><i class="fa-solid fa-signal"></i><div class="btn-text">Seçenek B: Kurumsal şifreyi vermem ama ona 'MISAFIR-WIFI' ağının şifresini veririm.<small>Bu daha güvenli bir seçenek gibi duruyor.</small></div></button>
                        <button class="btn" data-decision="s3c"><i class="fa-solid fa-sitemap"></i><div class="btn-text">Seçenek C: Şifreyi paylaşamayacağımı, bu tür sorunlar için yöneticisine veya IT departmanına başvurması gerektiğini söylerim.<small>Bu benim sorumluluğumda değil ve prosedürlere aykırı.</small></div></button>
                    </div>
                </div>
            </div>
            
            <div id="stage4">
                <h2><i class="fa-solid fa-laptop-file"></i> Aşama 4: Sahipsiz Dizüstü Bilgisayar</h2>
                <p>Boş bir toplantı odasının önünden geçerken, aynı yabancının dizüstü bilgisayarının masada açık, kilitsiz ve sahipsiz bir şekilde durduğunu görüyorsunuz. Daha da kötüsü, bilgisayardan duvardaki ağ (ethernet) girişine bir kablo çekilmiş durumda.</p>
                <img src="bes.png" alt="Sahipsiz ve ağa bağlı laptop" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu ciddi güvenlik ihlali karşısında ne yaparsınız?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s4a"><i class="fa-solid fa-person-through-window"></i><div class="btn-text">Seçenek A: Hiçbir şey yapmadan yoluma devam ederim.<small>Bana ait olmayan bir eşyaya dokunmamalıyım.</small></div></button>
                        <button class="btn" data-decision="s4b"><i class="fa-solid fa-power-off"></i><div class="btn-text">Seçenek B: İyi niyetle odaya girer ve bilgisayarı kapatırım.<small>En azından açık kalmasından iyidir.</small></div></button>
                        <button class="btn" data-decision="s4c"><i class="fa-solid fa-phone-volume"></i><div class="btn-text">Seçenek C: Hiçbir şeye dokunmadan, durumu acilen güvenliğe veya IT departmanına bildiririm.<small>Bu, ağa sızmak için kasıtlı bir girişim olabilir.</small></div></button>
                    </div>
                </div>
            </div>

            <div id="stage5">
                <h2><i class="fa-solid fa-user-tie"></i> Aşama 5: "Ben Teknisyenim" Yalanı</h2>
                <p>Biraz sonra, güvenlik görevlisinin yabancıya kim olduğunu sorduğunu görüyorsunuz. Yabancı son derece sakin bir şekilde, "Merak etmeyin, ben dışarıdan hizmet aldığınız XYZ Bilişim'den geliyorum. Bugün için planlanmış bir ağ denetimimiz var. İşte iş emrim." diyerek elindeki bir kağıdı gösteriyor.</p>
                <img src="alt.png" alt="Teknisyenim diyen yabancı" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu sahneye tanık olduğunuzda ne düşünürsünüz?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s5a"><i class="fa-solid fa-check"></i><div class="btn-text">Seçenek A: "Demek ki resmi bir iş için buradaymış" der, rahatlarım.<small>Sonuçta bir iş emri göstermiş.</small></div></button>
                        <button class="btn" data-decision="s5b"><i class="fa-solid fa-user-secret"></i><div class="btn-text">Seçenek B: Yabancının önceki davranışlarını (turnike, Wi-Fi talebi) hatırlar ve bu açıklamanın çelişkili olduğunu fark ederim.<small>Önce pazarlamacıyım dedi, şimdi teknisyen. Burada bir tutarsızlık var.</small></div></button>
                        <button class="btn" data-decision="s5c"><i class="fa-solid fa-sitemap"></i><div class="btn-text">Seçenek C: Güvenlik görevlisinin yanına giderek, bu kişinin daha önce kendisini farklı tanıttığını ve şüpheli davranışlarda bulunduğunu bildiririm.<small>Bilgileri birleştirmek, büyük resmi görmeyi sağlar.</small></div></button>
                    </div>
                </div>
            </div>

            <div id="stage6">
                <h2><i class="fa-solid fa-print"></i> Aşama 6: "Bir Çıktı Alabilir miyim?"</h2>
                <p>Yabancı tekrar yanınıza gelerek, "Kusura bakmayın tekrar rahatsız ediyorum, ağ denetim raporunu acilen basmam lazım ama ağdaki yazıcıları göremiyorum. Şu USB'deki tek sayfalık raporu sizin bilgisayarınızdan hızlıca basabilir miyiz?" diye soruyor ve elindeki USB belleği uzatıyor.</p>
                <img src="yedi.png" alt="USB'den çıktı alma talebi" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu son ve masum görünen talebe cevabınız ne olur?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s6a"><i class="fa-solid fa-usb-drive"></i><div class="btn-text">Seçenek A: "Tabii ki" der, USB'yi alıp bilgisayarıma takarım.<small>Sadece bir çıktı almak, iyi niyetli bir yardım talebidir.</small></div></button>
                        <button class="btn" data-decision="s6b"><i class="fa-solid fa-envelope"></i><div class="btn-text">Seçenek B: "USB takamam ama dosyayı bana e-posta ile gönderirseniz basabilirim" derim.<small>Bu şekilde daha güvenli olur diye düşünürüm.</small></div></button>
                        <button class="btn" data-decision="s6c"><i class="fa-solid fa-ban"></i><div class="btn-text">Seçenek C: "Üzgünüm, şirket politikası gereği harici cihazları bilgisayarlara takmak ve doğrulanmamış dosyaları açmak yasak." diyerek talebi kesin olarak reddederim.<small>Bu, önceki şüphelerimi doğrulayan son adımdır.</small></div></button>
                    </div>
                </div>
            </div>

            <div id="stage7">
                <h2><i class="fa-solid fa-person-walking-dashed-line-arrow-right"></i> Aşama 7: Yabancının Ayrılışı</h2>
                <p>Gün sonunda, yabancının dizüstü bilgisayar çantasını toplayıp, resepsiyondaki görevliye el sallayarak binadan ayrıldığını görüyorsunuz. Gün boyunca içeride kalmayı, hassas konuşmaları dinlemeyi ve belki de ağa sızmayı başardı. Tüm bu olanlar, gözünüzün önünde gerçekleşti.</p>
                <img src="sekiz.png" alt="Binadan ayrılan yabancı" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu son sahne size ne hissettiriyor?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s7a"><i class="fa-solid fa-face-angry"></i><div class="btn-text">Seçenek A: "Bu kadar kolay olmamalıydı!" diye öfkelenirim.<small>Güvenlik prosedürlerinde ciddi zafiyetler olduğunu düşünürüm.</small></div></button>
                        <button class="btn" data-decision="s7b"><i class="fa-solid fa-user-check"></i><div class="btn-text">Seçenek B: "Ben doğru adımları attım" diye kendimi rahatlatırım.<small>Kişisel olarak üzerime düşeni yaptığıma inanırım.</small></div></button>
                        <button class="btn" data-decision="s7c"><i class="fa-solid fa-lightbulb"></i><div class="btn-text">Seçenek C: Bunun kişisel değil, kurumsal bir farkındalık sorunu olduğunu anlarım.<small>Bir kişinin dikkati yetmez, tüm çalışanların bu konuda bilinçli olması gerektiğini fark ederim.</small></div></button>
                    </div>
                </div>
            </div>

            <div id="stage8">
                <h2><i class="fa-solid fa-envelope-circle-check"></i> Aşama 8: Gerçek Ortaya Çıkıyor</h2>
                <p>Ertesi sabah, tüm şirkete Bilgi Güvenliği Direktörlüğü'nden bir e-posta gelir: "Değerli Çalışanlarımız, dün şirketimizde yetkili bir siber güvenlik firması tarafından bir 'Fiziksel Sızma ve Sosyal Mühendislik Testi' gerçekleştirilmiştir. Dün gördüğünüz 'yabancı', bu testin bir parçasıydı. Amacımız, güvenlik prosedürlerimizin etkinliğini ölçmek ve farkındalık seviyemizi görmektir. Bu simülasyon, o gün verdiğiniz kararların bir yansımasıdır."</p>
                <img src="dokuz.png" alt="Sızma testi bilgilendirmesi" class="scenario-image">
                <div class="interactive-element">
                    <h4>Bu bilgilendirme sonrası ne düşünürsünüz?</h4>
                    <div class="decision-buttons">
                        <button class="btn" data-decision="s8a"><i class="fa-solid fa-award"></i><div class="btn-text">Seçenek A: Testin sonuçlarını ve kişisel performansımı merak ederim.<small>Bu deneyimden ders çıkarmak için harika bir fırsat.</small></div></button>
                        <button class="btn" data-decision="s8b"><i class="fa-solid fa-user-secret"></i><div class="btn-text">Seçenek B: "Kandırıldık" diye düşünür, şirkete karşı güvensizlik hissederim.<small>Bu tür testlerin haber verilmeden yapılması doğru değil.</small></div></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const game = {
            score: { physical: 100, information: 100, compliance: 100, awareness: 100 },
            state: { currentStageId: 'stage1', decisionHistory: [] },
            timer: { total: 720, remaining: 720, intervalId: null },
            elements: {},
            decisionInfo: {
                's1a': { title: "Kapıyı Açtın", strat: "İyi niyet, sosyal mühendislerin en çok suistimal ettiği duygudur. 'Tailgating' olarak bilinen bu yöntemle, yetkisiz kişiler tesise sızar. Herkes kendi kartından sorumludur.", changes: { physical: -40, compliance: -30, awareness: -20 }, impact: 'Negative' },
                's1b': { title: "Görmezden Geldin", strat: "Pasif kalmak, sorumluluktan kaçmaktır. Siz içeri alsanız da almasanız da, şüpheli bir durumu yetkililere bildirmeyerek güvenlik zincirinin zayıf bir halkası oldunuz.", changes: { physical: -15, compliance: -15, awareness: -10 }, impact: 'Neutral' },
                's1c': { title: "Güvenliğe Yönlendirdin", strat: "Mükemmel! Bu, 'kibar ama kararlı' duruşun en doğru örneğidir. Hem kişiyi kırmadınız hem de güvenlik prosedürünü %100 doğru uyguladınız.", changes: { compliance: +15, awareness: +10 }, impact: 'Positive' },
                
                's2a': { title: "Görmezden Geldin", strat: "Hassas bilgilerin konuşulduğu ortamlarda etrafta kimlerin olduğuna dikkat etmek, tüm çalışanların görevidir. 'Beni ilgilendirmez' demek, potansiyel bir veri sızıntısına göz yummaktır.", changes: { information: -20, awareness: -15 }, impact: 'Negative' },
                's2b': { title: "Dikkat Dağıttın", strat: "İyi niyetli bir çaba olsa da, dolaylı yöntemler genellikle etkisizdir. Tehdidi ortadan kaldırmak yerine sadece geçici olarak savuşturmuş olabilirsiniz. Profesyonel müdahale her zaman daha iyidir.", changes: { awareness: +5, compliance: -5 }, impact: 'Neutral' },
                's2c': { title: "Güvenliğe Bildirdin", strat: "Çok doğru bir davranış. Çevrenizdeki anormallikleri fark etmeniz ve bunu sessizce doğru kanallara bildirmeniz, proaktif bir güvenlik anlayışına sahip olduğunuzu gösterir.", changes: { information: +15, awareness: +10, compliance: +10 }, impact: 'Positive' },

                's3a': { title: "Kurumsal Wi-Fi Şifresini Verdin", strat: "Kurumsal ağ şifresi, en kritik bilgilerden biridir. Bu şifreyi paylaşmak, saldırganın tüm ağa erişim sağlamasına ve diğer sistemlere saldırmasına olanak tanır. Bu, çok büyük bir hatadır.", changes: { information: -50, security: -40, compliance: -40 }, impact: 'Negative' },
                's3b': { title: "Misafir Wi-Fi Şifresini Verdin", strat: "Daha güvenli bir seçenek gibi görünse de, hala doğrulanmamış bir kişiye şirket kaynaklarına erişim sağlıyorsunuz. Ayrıca, 'yardım etme' alışkanlığınız, saldırganın sizi daha ileri talepler için bir hedef olarak görmesine neden olabilir.", changes: { information: -15, compliance: -15, awareness: -5 }, impact: 'Neutral' },
                's3c': { title: "Politikayı Belirterek Reddettin", strat: "Harika bir cevap! Hem profesyonel bir dil kullandınız hem de güvenlik politikalarına olan bağlılığınızı gösterdiniz. Sosyal mühendisler, bu tür kararlı ve bilgili hedeflerden çekinir.", changes: { compliance: +15, information: +10 }, impact: 'Positive' },
                
                's4a': { title: "Yoluna Devam Ettin", strat: "Sahipsiz ve ağa bağlı bir cihaz, aktif bir sızma girişimi olabilir. Bunu görmezden gelmek, hırsızın evinize girdiğini görüp polisi aramamakla eşdeğerdir.", changes: { physical: -25, information: -20, awareness: -15 }, impact: 'Negative' },
                's4b': { title: "Bilgisayarı Kapattın", strat: "İyi niyetli bu hareketiniz, saldırganın o anki aktivitesini durdurabilir, ancak adli bilişim incelemesi için çok değerli olan kanıtların (RAM bilgisi, geçici dosyalar vb.) yok olmasına neden olabilir. Olay yerine dokunulmamalıdır.", changes: { physical: -10, compliance: -10 }, impact: 'Neutral' },
                's4c': { title: "Acilen Bildirdin", strat: "Mükemmel! Bir olay yerine dokunmadan, durumu en hızlı şekilde doğru birimlere bildirmek, Olay Müdahale (Incident Response) sürecinin en kritik ilk adımıdır.", changes: { physical: +15, information: +10, compliance: +10 }, impact: 'Positive' },

                's5a': { title: "Açıklamaya İnandın", strat: "Sosyal mühendisler, kendilerine bir meşruiyet kılıfı uydurmakta ustadır. Sahte bir 'iş emri' veya 'kimlik kartı' hazırlamak çok kolaydır. Tek bir kanıta asla güvenilmemelidir.", changes: { awareness: -15, compliance: -10 }, impact: 'Negative' },
                's5b': { title: "Çelişkiyi Fark Ettin", strat: "Harika bir analitik düşünce. Saldırganların en büyük hatası, söyledikleri yalanlar arasındaki tutarsızlıklardır. Bu çelişkileri fark etmek, saldırıyı ortaya çıkarmanın anahtarıdır.", changes: { awareness: +15 }, impact: 'Positive' },
                's5c': { title: "Güvenliğe Bilgi Verdin", strat: "Bu, proaktif ve sorumlu bir davranışın zirvesidir. Elinizdeki farklı bilgileri birleştirerek güvenlik görevlisinin doğru kararı vermesine yardımcı oldunuz. Güvenlik bir takım oyunudur.", changes: { awareness: +20, compliance: +15, physical: +10 }, impact: 'Positive' },
                
                's6a': { title: "USB'yi Taktın", strat: "Bu, önceki tüm şüphelerinize rağmen, saldırganın son ve en tehlikeli adımını tamamlamasına izin vermektir. Bu USB, fidye yazılımından veri hırsızlığına kadar her şeyi yapabilir.", changes: { information: -40, physical: -30, compliance: -50 }, impact: 'Negative' },
                's6b': { title: "E-posta İle İstedin", strat: "Bu, USB takmaktan daha güvenli bir adım gibi görünse de, iki büyük risk içerir: 1) E-postayla gelen dosya da zararlı olabilir. 2) Saldırgana kurumsal e-posta adresinizi vermiş olursunuz. Bu, gelecekteki phishing saldırıları için bir davetiyedir.", changes: { information: -15, compliance: -10 }, impact: 'Neutral' },
                's6c': { title: "Kesin Olarak Reddettin", strat: "Tüm şüphelerinizi ve şirket politikasını birleştirerek en doğru ve en güvenli kararı verdiniz. Bu noktada 'hayır' demek, en büyük güvenlik önlemidir.", changes: { compliance: +20, information: +10 }, impact: 'Positive' },

                's7a': { title: "Öfkelendin", strat: "Öfke, anlaşılabilir bir tepki olsa da, durumu çözmeye yardımcı olmaz. Önemli olan, bu tür olaylardan ders çıkararak gelecekteki güvenlik duruşunu güçlendirmektir.", changes: { awareness: -5 }, impact: 'Neutral' },
                's7b': { title: "Kişisel Davrandın", strat: "Güvenlik, kişisel bir başarı veya başarısızlık değildir. Bir kişinin doğru adımları atması yeterli olmayabilir. Önemli olan, tüm kurumun güvenlik seviyesidir.", changes: { awareness: -5 }, impact: 'Neutral' },
                's7c': { title: "Kurumsal Baktın", strat: "Doğru sonuç! Bir sosyal mühendislik saldırısının başarısı veya başarısızlığı, tek tek bireylerden çok, kurumun genel güvenlik kültürüne ve farkındalığına bağlıdır.", changes: { awareness: +10 }, impact: 'Positive' },
                
                's8a': { title: "Teste İnandın", strat: "Testin sonuçlarını ve kişisel performansınızı merak etmeniz, öğrenmeye ve gelişime açık olduğunuzu gösterir. Bu, en değerli kurumsal reflekstir.", changes: { awareness: +5 }, impact: 'Positive' },
                's8b': { title: "Güvensizlik Hissettin", strat: "Bu tür sızma testleri, haber verilmeden yapıldığında rahatsız edici olabilir. Ancak amaç, çalışanları kandırmak değil, zafiyetleri gerçek bir saldırgan bulmadan önce tespit edip düzeltmektir.", changes: { awareness: -10 }, impact: 'Neutral' },
            },
            
            setup() {
                this.elements = {
                    intro: document.getElementById('introSection'), game: document.getElementById('gameContainer'),
                    gameContent: document.getElementById('game-content'), startButton: document.getElementById('startButton'),
                    intermission: document.getElementById('intermissionSection'), intermissionTitle: document.getElementById('intermissionTitle'),
                    intermissionDetails: document.getElementById('intermissionDetails'), continueButton: document.getElementById('continueButton'),
                    finalSection: document.getElementById('finalSection'),
                    htmlTemplates: document.getElementById('html-content-templates'),
                    statusBar: {
                        physical: document.getElementById('status-physical'), information: document.getElementById('status-information'),
                        compliance: document.getElementById('status-compliance'), awareness: document.getElementById('status-awareness'),
                        timer: document.getElementById('status-timer'),
                    }
                };
                this.attachListeners();
            },
            attachListeners() {
                this.elements.startButton.addEventListener('click', () => {
                    this.elements.intro.style.display = 'none'; this.elements.game.style.display = 'block';
                    this.startTimer(); this.showStage('stage1');
                });
                this.elements.gameContent.addEventListener('click', (e) => {
                    const button = e.target.closest('.btn[data-decision]');
                    if (!button || button.disabled) return;
                    this.handleDecision(button.dataset.decision);
                });
                this.elements.continueButton.addEventListener('click', () => {
                    const currentStageNum = parseInt(this.state.currentStageId.replace('stage', ''), 10);
                    this.elements.intermission.style.display = 'none';
                    if (currentStageNum >= 8) { this.showFinalReport(); } 
                    else { this.elements.game.style.display = 'block'; this.showStage(`stage${currentStageNum + 1}`); }
                });
            },
            handleDecision(decisionId) {
                const info = this.decisionInfo[decisionId];
                if (!info) return;
                this.state.decisionHistory.push({ ...info, id: decisionId });
                this.updateScore(info.changes);
                this.elements.game.style.display = 'none';
                this.showIntermission(info);
            },
            updateScore(changes) {
                this.score.physical = Math.max(0, Math.min(100, this.score.physical + (changes.physical || 0)));
                this.score.information = Math.max(0, Math.min(100, this.score.information + (changes.information || 0)));
                this.score.compliance = Math.max(0, Math.min(100, this.score.compliance + (changes.compliance || 0)));
                this.score.awareness = Math.max(0, Math.min(100, this.score.awareness + (changes.awareness || 0)));
                this.updateStatusBar();
            },
            updateStatusBar() {
                const s = this.score;
                this.elements.statusBar.physical.textContent = s.physical;
                this.elements.statusBar.information.textContent = s.information;
                this.elements.statusBar.compliance.textContent = s.compliance;
                this.elements.statusBar.awareness.textContent = s.awareness;
            },
            showStage(stageId) {
                this.state.currentStageId = stageId;
                const stageTemplate = this.elements.htmlTemplates.querySelector(`#${stageId}`);
                if (stageTemplate) { this.elements.gameContent.innerHTML = stageTemplate.innerHTML; }
            },
            showIntermission(info) {
                this.elements.intermissionTitle.textContent = `Kararınız: ${info.title}`;
                let metricsHTML = '';
                const formatChange = (label, value) => {
                    if (value === undefined || value === 0) return '';
                    const colorClass = value > 0 ? 'positive' : 'negative';
                    const sign = value > 0 ? '+' : '';
                    return `<div class="metric-change ${colorClass}">${label}: ${sign}${value.toLocaleString('tr-TR')}</div>`;
                };
                metricsHTML += formatChange('Fiziksel Güvenlik', info.changes.physical);
                metricsHTML += formatChange('Bilgi Güvenliği', info.changes.information);
                metricsHTML += formatChange('Prosedür Uyumu', info.changes.compliance);
                metricsHTML += formatChange('Kurumsal Farkındalık', info.changes.awareness);
                this.elements.intermissionDetails.innerHTML = `
                    <div class="metric-change-summary-container"><h4>Kararın Anlık Etkileri</h4><div class="metric-change-summary">${metricsHTML}</div></div>
                    <div class="interactive-element" style="text-align:left; width:100%; max-width:600px; margin-top:20px;">
                        <h4>Stratejik Not</h4><p>${info.strat}</p>
                    </div>`;
                this.elements.intermission.style.display = 'flex';
            },
            showFinalReport() {
                this.stopTimer();
                this.elements.game.style.display = 'none';
                this.elements.intermission.style.display = 'none';
                this.elements.finalSection.style.display = 'flex';
                
                let totalScore = 50;
                let scoreBreakdown = { 'Başlangıç Puanı': { value: 50, class: 'score-neutral' }};
                let decisionQualityScore = 0;
                this.state.decisionHistory.forEach(d => {
                    if (d.impact === 'Positive') decisionQualityScore += 4;
                    else if (d.impact === 'Neutral') decisionQualityScore -= 3;
                    else if (d.impact === 'Negative') decisionQualityScore -= 7;
                });
                totalScore += decisionQualityScore;
                scoreBreakdown['Karar Kalitesi'] = { value: decisionQualityScore, class: decisionQualityScore >= 0 ? 'score-plus' : 'score-minus' };
                
                const finalComplianceBonus = Math.round((this.score.compliance - 50) / 4);
                totalScore += finalComplianceBonus;
                scoreBreakdown['Prosedürlere Uyum'] = { value: finalComplianceBonus, class: finalComplianceBonus >= 0 ? 'score-plus' : 'score-minus' };

                const finalAwarenessBonus = Math.round((this.score.awareness - 50) / 4);
                totalScore += finalAwarenessBonus;
                scoreBreakdown['Nihai Farkındalık'] = { value: finalAwarenessBonus, class: finalAwarenessBonus >= 0 ? 'score-plus' : 'score-minus' };
                
                const finalSecurityPenalty = -Math.round(((100 - this.score.physical) + (100 - this.score.information)) / 8);
                totalScore += finalSecurityPenalty;
                if(finalSecurityPenalty < 0) scoreBreakdown['Oluşan Güvenlik Açıkları'] = { value: finalSecurityPenalty, class: 'score-minus' };

                totalScore = Math.max(0, Math.min(100, Math.round(totalScore)));

                let badgeInfo = {};
                if (totalScore >= 90) { badgeInfo = { text: 'GÜVENLİK KALKANI', color: 'var(--accent-green)' }; }
                else if (totalScore >= 75) { badgeInfo = { text: 'DİKKATLİ GÖZ', color: 'var(--accent-blue)' }; }
                else if (totalScore >= 50) { badgeInfo = { text: 'PROSEDÜRE HAKİM', color: 'var(--accent-yellow)' }; }
                else { badgeInfo = { text: 'İYİ NİYETLİ ZAFİYET', color: 'var(--accent-red)' }; }

                this.elements.finalSection.querySelector('#performance-badge').textContent = badgeInfo.text;
                this.elements.finalSection.querySelector('#performance-badge').style.backgroundColor = badgeInfo.color;
                this.elements.finalSection.querySelector('#finalMetricsContainer').innerHTML = `
                    <div class="metric-card"><div class="icon"><i class="fa-solid fa-star"></i></div><div class="label">Genel Performans</div><div class="value">${totalScore}/100</div></div>
                    <div class="metric-card"><div class="icon"><i class="fa-solid fa-building-shield"></i></div><div class="label">Fiziksel Güvenlik</div><div class="value">${this.score.physical}</div></div>
                    <div class="metric-card"><div class="icon"><i class="fa-solid fa-file-invoice"></i></div><div class="label">Bilgi Güvenliği</div><div class="value">${this.score.information}</div></div>
                    <div class="metric-card"><div class="icon"><i class="fa-solid fa-user-check"></i></div><div class="label">Prosedür Uyumu</div><div class="value">${this.score.compliance}</div></div>
                    <div class="metric-card"><div class="icon"><i class="fa-solid fa-users"></i></div><div class="label">Kurumsal Farkındalık</div><div class="value">${this.score.awareness}</div></div>`;
                this.elements.finalSection.querySelector('#decision-timeline-list').innerHTML = this.state.decisionHistory.map(d => `<li class="${d.impact.toLowerCase()}"><span class="decision-title">${d.title}</span></li>`).join('');
                this.elements.finalSection.querySelector('#score-breakdown').innerHTML = Object.entries(scoreBreakdown).map(([key, item]) => `<li class="${item.class}"><span>${key}</span><span class="score-value">${item.value > 0 ? '+' : ''}${item.value} Puan</span></li>`).join('');
                this.elements.finalSection.querySelector('#strategic-debrief-content').innerHTML = `<p>Bu simülasyon, sosyal mühendisliğin sadece e-posta veya telefonla sınırlı olmadığını gösterdi. Doğru refleksler:</p>
                <ul style="text-align:left; max-width: 500px; margin: auto;">
                    <li><strong>Doğrulama Yapın:</strong> Tanımadığınız kişilerin (telefonla veya yüz yüze) iddialarını asla hemen kabul etmeyin. Her zaman resmi kanallardan doğrulayın.</li>
                    <li><strong>"Hayır" Demekten Çekinmeyin:</strong> Kibar olmak, güvenlik prosedürlerini ihlal etmek anlamına gelmez. Prosedüre aykırı bir talebi kibarca reddetmek en doğrusudur.</li>
                    <li><strong>Gözlemci Olun:</strong> Çevrenizdeki şüpheli durumları (yetkisiz kişiler, sahipsiz cihazlar) fark edin ve bildirin.</li>
                    <li><strong>Fiziksel Güvenlik de Siber Güvenliktir:</strong> Güvenli kapılardan yetkisiz geçişlere izin vermemek (tailgating), ağ güvenliğini korumanın ilk adımıdır.</li>
                </ul>`;
            },
            startTimer() {
                this.timer.intervalId = setInterval(() => {
                    this.timer.remaining--;
                    const m = String(Math.floor(this.timer.remaining / 60)).padStart(2, '0');
                    const s = String(this.timer.remaining % 60).padStart(2, '0');
                    this.elements.statusBar.timer.textContent = `${m}:${s}`;
                    if (this.timer.remaining <= 0) { this.stopTimer(); alert("Süre doldu!"); this.showFinalReport(); }
                }, 1000);
            },
            stopTimer() { clearInterval(this.timer.intervalId); }
        };
        game.setup();
    });
    </script>
</body>
</html>